var namespace=namespace||{};namespace.utilities=function(t){"use strict";var e="Utilities",o=t.logger?t.logger.createModuleLogger(e):null,a=function(t,e){var o=e||{},a=o.buttonSelector||".copy-ticket-btn, .copy-btn",i=o.successColor||"#28a745",r=o.successIcon||"fa fa-check",n=o.successText||"Copied",s=t.target.closest(a);if(s){var c=s.querySelector("i");if(c){"1"===s.dataset.copyActive||(s.dataset.originalIconClass=c.className,s.dataset.originalColor=s.style.color||"",s.dataset.originalTitle=s.getAttribute("title")||""),s.dataset.copyTimerId&&(clearTimeout(Number(s.dataset.copyTimerId)),s.dataset.copyTimerId=""),c.className=r,s.style.color=i;var l=null;if(n){if(!(l=document.querySelector('.copy-feedback-text[data-btn-id="'+(s.id||s.dataset.copyBtnId)+'"]'))){s.id||s.dataset.copyBtnId||(s.dataset.copyBtnId="copy-btn-"+Date.now()+"-"+Math.random().toString(36).substr(2,9));var d=s.id||s.dataset.copyBtnId;(l=document.createElement("span")).className="copy-feedback-text",l.setAttribute("data-btn-id",d),l.style.position="fixed",l.style.whiteSpace="nowrap",l.style.pointerEvents="none",l.style.backgroundColor="#333333",l.style.color="#ffffff",l.style.padding="3px 6px",l.style.borderRadius="3px",l.style.fontSize="11px",l.style.fontWeight="normal",l.style.zIndex="10000",l.style.lineHeight="1.3",document.body.appendChild(l)}l.textContent=n;var p=c.getBoundingClientRect(),y=l.offsetHeight||18;l.style.left=p.right+6+"px",l.style.top=p.top+(p.height-y)/2+"px",l.style.display="block",setTimeout((function(){var t=l.getBoundingClientRect();t.right>window.innerWidth-10&&(l.style.left=p.left-t.width-6+"px")}),0)}s.dataset.copyActive="1";var u=setTimeout((function(){c.className=s.dataset.originalIconClass||c.className,s.style.color=s.dataset.originalColor||"",s.dataset.copyTimerId="",s.dataset.copyActive="",s.dataset.originalIconClass="",s.dataset.originalColor="";var t=s.id||s.dataset.copyBtnId;if(t){var e=document.querySelector('.copy-feedback-text[data-btn-id="'+t+'"]');e&&e.remove()}}),1e3);s.dataset.copyTimerId=String(u)}}};return{setModule:function(a){e="string"==typeof a&&a.trim()?a:e,o=t.logger?t.logger.createModuleLogger(e):null},copyToClipboard:function(t,e,i){var r=i&&"object"==typeof i?i:{};return o.log("Copying to clipboard",{text:t}),navigator.clipboard&&window.isSecureContext?navigator.clipboard.writeText(t).then((function(){return e&&a(e,r),!0})).catch((function(t){return o.error("Clipboard failed",{error:t.message}),!1})):(o.warning("Clipboard API not supported"),Promise.resolve(!1))}}}(namespace,window.jQuery||window.$);